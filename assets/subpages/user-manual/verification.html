

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>verification package &mdash; Hutts Verification 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Hutts Verification 0.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Hutts Verification
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">verification package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-verification.controllers">verification.controllers module</a><ul>
<li><a class="reference internal" href="#author-nicolai-van-niekerk">Author: Nicolai van Niekerk</a><ul>
<li><a class="reference internal" href="#handles-all-requests-relevant-to-the-validation-service-of-the-api">Handles all requests relevant to the validation service of the API</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-verification.face_verify">verification.face_verify module</a></li>
<li><a class="reference internal" href="#module-verification.text_verify">verification.text_verify module</a><ul>
<li><a class="reference internal" href="#authors-jan-justin-van-tonder">Authors: Jan-Justin van Tonder</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-verification">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hutts Verification</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>verification package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/verification.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="verification-package">
<h1>verification package<a class="headerlink" href="#verification-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-verification.controllers">
<span id="verification-controllers-module"></span><h2>verification.controllers module<a class="headerlink" href="#module-verification.controllers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="author-nicolai-van-niekerk">
<h3>Author: Nicolai van Niekerk<a class="headerlink" href="#author-nicolai-van-niekerk" title="Permalink to this headline">¶</a></h3>
<div class="section" id="handles-all-requests-relevant-to-the-validation-service-of-the-api">
<h4>Handles all requests relevant to the validation service of the API<a class="headerlink" href="#handles-all-requests-relevant-to-the-validation-service-of-the-api" title="Permalink to this headline">¶</a></h4>
<dl class="function">
<dt id="verification.controllers.manage_text_extractor">
<code class="descclassname">verification.controllers.</code><code class="descname">manage_text_extractor</code><span class="sig-paren">(</span><em>image_of_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#manage_text_extractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.manage_text_extractor" title="Permalink to this definition">¶</a></dt>
<dd><p>This function manages the text extraction from an ID images.
Management includes preparing text extraction preferences and receiving extracted text.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd>image_of_id (:obj:’OpenCV image’): An image of an ID that text must be extracted from.</dd>
<dt>Returns:</dt>
<dd>preferences (dict): Prepared list of preferences. May contained additional text extraction or logger preferences.
extracted_text (json object): A collection of text extracted from the ID.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.manage_text_verification">
<code class="descclassname">verification.controllers.</code><code class="descname">manage_text_verification</code><span class="sig-paren">(</span><em>preferences</em>, <em>extracted_text</em>, <em>entered_details</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#manage_text_verification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.manage_text_verification" title="Permalink to this definition">¶</a></dt>
<dd><p>The function manages the preparation before text verification and result of the text verification it self
Management includes preparing logger functionality and controlling match percentages and messages.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd>preferences (list): A list of preferences. Containing details about logger functionality.
extracted_text (JSON object): Contains text extracted from ID image.
entered_details (dict): Dictionary containing information that needs to be verified</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>text_match_percentage (float): Value representing the accuracy with which the entered details</dt>
<dd>matches that of the extracted text.</dd>
<dt>text_match (dict): Contains intermediate match percentages for different details.</dt>
<dd>For Example the match percentage between just the date_of_birth fields</dd>
<dt>is_pass (bool): Indicates if text_verification passes.</dt>
<dd>If match percentage is above threshold provided in preferences then verification passes.
If match percentage is below threshold value provided in preferences then verification fails.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.match_faces">
<code class="descclassname">verification.controllers.</code><code class="descname">match_faces</code><span class="sig-paren">(</span><em>image_of_id</em>, <em>face</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#match_faces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.match_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receives two images that receive images of faces that need to be verified.
It is expected that an image of an ID and an image of a Profile picture will be received.
Even if the expected images are not received the function will still apply a best effort solution.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd>image_of_id (:obj:’OpenCV image’): An image of an ID that contains a face that needs to be verified
face (:obj:’OpenCV image’): A image of a face that needs to be verified</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>bool: Represent if two faces indeed match True if distance calculated is</dt>
<dd>below a threshold value. False if the distance calculated is above threshold value.</dd>
<dt>float: Return Euclidean distance between the vector representation</dt>
<dd>of the two faces</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.receive_details">
<code class="descclassname">verification.controllers.</code><code class="descname">receive_details</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#receive_details"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.receive_details" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receives the details that need to be verified from the flask handler.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>entered_details (dict): Details that need to be verified with that extracted from image.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.receive_faces">
<code class="descclassname">verification.controllers.</code><code class="descname">receive_faces</code><span class="sig-paren">(</span><em>match_face=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#receive_faces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.receive_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>This function receives faces/ID from request flask handler.
The function checks for multiple means of receiving the faces/ID. These include</p>
<blockquote>
<div>Receiving image by file path
Receiving image by URL
Receiving image by file Stream</div></blockquote>
<p>It is expected that an image of a face and an image of an ID will be sent.
However, if the order is not followed that system will still be able to return the best effort result without
loss of accuracy.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>match_face (bool): Indicates if additional profile of a face should be extracted.</dt>
<dd>If an additional face should not be extracted simply return the ID image.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>image_of_id (:obj:’OpenCV image’): An image of a ID.
face (:obj:’OpenCV image’): An image of a face. If match_face is set to True</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.verify_faces">
<code class="descclassname">verification.controllers.</code><code class="descname">verify_faces</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#verify_faces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.verify_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample function to return a match percentage of an ID face image and
picture of face
———————————————————————-
URL: <a class="reference external" href="http://localhost:5000/verifyFaces">http://localhost:5000/verifyFaces</a>
———————————————————————-</p>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.verify_id">
<code class="descclassname">verification.controllers.</code><code class="descname">verify_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#verify_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.verify_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample function to return a match percentage of an ID image and
provided personal information and picture of face
———————————————————————-
URL: <a class="reference external" href="http://localhost:5000/verifyID">http://localhost:5000/verifyID</a>
———————————————————————-</p>
</dd></dl>

<dl class="function">
<dt id="verification.controllers.verify_info">
<code class="descclassname">verification.controllers.</code><code class="descname">verify_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/controllers.html#verify_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.controllers.verify_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample function to return a match percentage of an ID image and
provided personal information
———————————————————————-
URL: <a class="reference external" href="http://localhost:5000/verifyInfo">http://localhost:5000/verifyInfo</a>
———————————————————————-</p>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-verification.face_verify">
<span id="verification-face-verify-module"></span><h2>verification.face_verify module<a class="headerlink" href="#module-verification.face_verify" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="verification.face_verify.FaceVerify">
<em class="property">class </em><code class="descclassname">verification.face_verify.</code><code class="descname">FaceVerify</code><span class="sig-paren">(</span><em>shape_predictor_path</em>, <em>face_recognition_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/face_verify.html#FaceVerify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.face_verify.FaceVerify" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>The FaceVerify class is responsible for
1. Detecting the face.
2. Generating a threshold value that determines the likeness
of two individuals in an image</p>
<dl class="method">
<dt id="verification.face_verify.FaceVerify.verify">
<code class="descname">verify</code><span class="sig-paren">(</span><em>face1</em>, <em>face2</em>, <em>threshold=0.55</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/face_verify.html#FaceVerify.verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.face_verify.FaceVerify.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>This function determines a percentage value of how close the faces
in the images passed are to each other if the determined value if below
the threshold value passed by the user a boolean value of True is returned
indicating that the faces in the images passed indeed match.</p>
<p>The Verify function makes use of the dlib library which guarantees 99.38%
accuracy on the standard Labeled Faces in the Wild benchmark.
Author(s):</p>
<blockquote>
<div>Stephan Nell</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">face1 (:obj:’OpenCV image’): The first image containing the face that should be compared.
face2 (:obj:’OpenCV image’): The second image containing the face that should be compared
threshold (float): The threshold value determines at what distance the two images are</p>
<blockquote class="last">
<div>considered the same person. If a verify score is below the threshold value the faces are
considered a match. The Labled Faces in the Wild benchmark recommend a default threshold
of 0.6 but a threshold of 0.55 was decided on since a threshold of 0.55 represents
the problem better.</div></blockquote>
</dd>
<dt>Returns:</dt>
<dd><dl class="first docutils">
<dt>bool: Represent if two face indeed match True if distance calculated is</dt>
<dd>below threshold value. False if the distance calculated is
above threshold value.</dd>
</dl>
<p class="last">float: Return Euclidean distance between the vector representation
of the two faces</p>
</dd>
<dt>Raises:</dt>
<dd>ValueError: If no face can be detected no faces can be matched and
operation should be aborted.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-verification.text_verify">
<span id="verification-text-verify-module"></span><h2>verification.text_verify module<a class="headerlink" href="#module-verification.text_verify" title="Permalink to this headline">¶</a></h2>
<div class="section" id="authors-jan-justin-van-tonder">
<h3>Authors: Jan-Justin van Tonder<a class="headerlink" href="#authors-jan-justin-van-tonder" title="Permalink to this headline">¶</a></h3>
<p>Contains the logic used to verify the extracted text from a form
of ID.
———————————————————————-</p>
<dl class="class">
<dt id="verification.text_verify.TextVerify">
<em class="property">class </em><code class="descclassname">verification.text_verify.</code><code class="descname">TextVerify</code><a class="reference internal" href="_modules/verification/text_verify.html#TextVerify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.text_verify.TextVerify" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This class is responsible for the verification of text that is extracted from an ID.</p>
<dl class="docutils">
<dt>Authors:</dt>
<dd>Jan-Justin van Tonder</dd>
</dl>
<dl class="method">
<dt id="verification.text_verify.TextVerify.validate_id_number">
<code class="descname">validate_id_number</code><span class="sig-paren">(</span><em>id_number</em>, <em>valid_length=13</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/text_verify.html#TextVerify.validate_id_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.text_verify.TextVerify.validate_id_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether a given id number is valid or not.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>id_number (str):
valid_length (int): Specifies the length of a given id number to be considered as valid.</dd>
<dt>Returns:</dt>
<dd>(bool): True if the id number is valid, False otherwise.</dd>
<dt>Raises:</dt>
<dd>TypeError: If id_number is not a string containing only numeric characters.
TypeError: If valid_length is not an integer.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="verification.text_verify.TextVerify.verify">
<code class="descname">verify</code><span class="sig-paren">(</span><em>extracted</em>, <em>verifier</em>, <em>threshold=75.0</em>, <em>min_matches=4</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/verification/text_verify.html#TextVerify.verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#verification.text_verify.TextVerify.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is responsible for the verification of text that is extracted from an ID and is passed in,
along with information that is to be used to verify the extracted text.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">extracted (dict): A dictionary containing the information that was extracted from an ID.
verifier (dict): A dictionary containing the information against which the extracted data is to be</p>
<blockquote>
<div>verified.</div></blockquote>
<dl class="docutils">
<dt>threshold (float): A threshold percentage (out of 100) that is used to determine whether or not the</dt>
<dd>final match percentage is accepted as verified.</dd>
<dt>min_matches (int): The minimum number of matches that have to be calculated for the final result to be</dt>
<dd>considered as verified.</dd>
</dl>
<p class="last">verbose (bool): Indicates whether or not to return all of the calculated match percentages.</p>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>(bool, float | dict): The first value returned is a bool that indicates whether or not the total</dt>
<dd>percentage match is above the specified threshold value, while the second return value is the total
percentage match value if verbose is False, or returns a dict of all the determined percentage match
values if verbose is True.</dd>
</dl>
</dd>
<dt>Raises:</dt>
<dd>TypeError: If extracted is not a dictionary.
TypeError: If verifier is not a dictionary.
TypeError: If threshold is not a float.
TypeError: If min_matches is not an integer.
TypeError: If verbose is not a boolean.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-verification">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-verification" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Java the Hutts.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>